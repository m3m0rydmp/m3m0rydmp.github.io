{"version":3,"file":"static/js/702.0d95b774.chunk.js","mappings":"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","sources":["components/WriteupDetail.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\nimport writeupsData from '../data/writeupsData.json';\r\nimport './WriteupDetail.css';\r\n\r\nfunction resolveImageSource(src, assetBase) {\r\n  if (!src) return '';\r\n  if (/^(https?:)?\\/\\//i.test(src) || src.startsWith('/')) {\r\n    return src;\r\n  }\r\n\r\n  const cleanedBase = assetBase?.endsWith('/') ? assetBase.slice(0, -1) : assetBase;\r\n  const normalizedSrc = src.replace(/^\\.\\//, '');\r\n  if (!cleanedBase) {\r\n    return normalizedSrc;\r\n  }\r\n\r\n  return `${cleanedBase}/${normalizedSrc}`.replace(/\\\\/g, '/');\r\n}\r\n\r\nfunction WriteupDetail() {\r\n  const { slug } = useParams();\r\n  const navigate = useNavigate();\r\n  const writeup = useMemo(\r\n    () => writeupsData.items?.find((item) => item.slug === slug),\r\n    [slug]\r\n  );\r\n  const [content, setContent] = useState('');\r\n  const [status, setStatus] = useState('idle');\r\n\r\n  const assetBase = useMemo(() => {\r\n    if (!writeup) return '';\r\n    const segments = writeup.sourcePath.split('/');\r\n    segments.pop();\r\n    return segments.join('/');\r\n  }, [writeup]);\r\n\r\n  /**\r\n   * @time O(n) where n is number of lines in content (max 15 scanned)\r\n   * @space O(n) for contentLines array copy\r\n   */\r\n  const processedContent = useMemo(() => {\r\n    if (!content) return { markdown: '', metadata: null };\r\n\r\n    const lines = content.split('\\n');\r\n    let difficulty = null;\r\n    let os = null;\r\n    let category = null;\r\n    let metadataEndIndex = -1;\r\n\r\n    for (let i = 0; i < Math.min(lines.length, 15); i++) {\r\n      const line = lines[i].trim();\r\n      if (/^Difficulty\\s*:\\s*(.+)$/i.test(line)) {\r\n        difficulty = line.match(/^Difficulty\\s*:\\s*(.+)$/i)[1].trim();\r\n        metadataEndIndex = Math.max(metadataEndIndex, i);\r\n      } else if (/^OS\\s*:\\s*(.+)$/i.test(line)) {\r\n        os = line.match(/^OS\\s*:\\s*(.+)$/i)[1].trim();\r\n        metadataEndIndex = Math.max(metadataEndIndex, i);\r\n      } else if (/^Category\\s*:\\s*(.+)$/i.test(line)) {\r\n        category = line.match(/^Category\\s*:\\s*(.+)$/i)[1].trim();\r\n        metadataEndIndex = Math.max(metadataEndIndex, i);\r\n      }\r\n    }\r\n\r\n    if (difficulty && os && category) {\r\n      const contentLines = [...lines];\r\n      for (let i = metadataEndIndex; i >= 0; i--) {\r\n        const line = contentLines[i].trim();\r\n        if (/^(Difficulty|OS|Category)\\s*:/i.test(line)) {\r\n          contentLines.splice(i, 1);\r\n        }\r\n      }\r\n      return {\r\n        markdown: contentLines.join('\\n'),\r\n        metadata: { difficulty, os, category }\r\n      };\r\n    }\r\n\r\n    return { markdown: content, metadata: null };\r\n  }, [content]);\r\n\r\n  const markdownComponents = useMemo(() => {\r\n    return {\r\n      img: ({ alt, src = '', ...rest }) => {\r\n        const resolvedSrc = resolveImageSource(src, assetBase);\r\n        return <img {...rest} src={resolvedSrc} alt={alt || ''} loading=\"lazy\" />;\r\n      },\r\n      a: ({ children, ...rest }) => (\r\n        <a {...rest} target=\"_blank\" rel=\"noopener noreferrer\">\r\n          {children}\r\n        </a>\r\n      ),\r\n      p: ({ children }) => {\r\n        const childArray = React.Children.toArray(children);\r\n        return <p>{childArray}</p>;\r\n      }\r\n    };\r\n  }, [assetBase]);\r\n\r\n  useEffect(() => {\r\n    if (!writeup) {\r\n      navigate('/404', { replace: true });\r\n      return;\r\n    }\r\n\r\n    let canceled = false;\r\n    const controller = new AbortController();\r\n\r\n    async function loadWriteup() {\r\n      setStatus('loading');\r\n      try {\r\n        const requestUrl = encodeURI(writeup.sourcePath);\r\n        const response = await fetch(requestUrl, { signal: controller.signal });\r\n        if (!response.ok) {\r\n          throw new Error(`Unable to fetch ${requestUrl}`);\r\n        }\r\n        const text = await response.text();\r\n        if (!canceled) {\r\n          setContent(text);\r\n          setStatus('ready');\r\n        }\r\n      } catch (error) {\r\n        if (canceled || controller.signal.aborted) return;\r\n        console.error('Failed to load writeup content:', error);\r\n        setStatus('error');\r\n      }\r\n    }\r\n\r\n    loadWriteup();\r\n\r\n    return () => {\r\n      canceled = true;\r\n      controller.abort();\r\n    };\r\n  }, [writeup, navigate]);\r\n\r\n  if (!writeup) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <section className=\"writeup-detail\">\r\n      <div className=\"writeup-body\">\r\n        {status === 'loading' && <p className=\"status-line\">Initializing markdown parserâ€¦</p>}\r\n        {status === 'error' && (\r\n          <p className=\"status-line error\">Unable to load the markdown document. Please refresh and try again.</p>\r\n        )}\r\n        {status === 'ready' && (\r\n          <>\r\n            {processedContent.metadata && (\r\n              <div className=\"md-meta-container\">\r\n                <p className=\"md-meta-line\">\r\n                  <strong className=\"md-meta-label\">Difficulty:</strong>\r\n                  <span className={`md-meta-pill difficulty ${((value) => {\r\n                    const normalized = (value || '').toLowerCase();\r\n                    if (normalized.includes('insane')) return 'insane';\r\n                    if (normalized.includes('medium')) return 'medium';\r\n                    if (normalized.includes('very easy')) return 'very-easy';\r\n                    if (normalized.includes('easy')) return 'easy';\r\n                    if (normalized.includes('hard')) return 'hard';\r\n                    return 'unknown';\r\n                  })(processedContent.metadata.difficulty)}`}>\r\n                    {processedContent.metadata.difficulty}\r\n                  </span>\r\n                </p>\r\n                <p className=\"md-meta-line\">\r\n                  <strong className=\"md-meta-label\">OS:</strong>\r\n                  <span className={`md-meta-pill os ${((value) => {\r\n                    const normalized = (value || '').toLowerCase();\r\n                    if (normalized.includes('windows')) return 'windows';\r\n                    if (normalized.includes('linux')) return 'linux';\r\n                    return 'unknown-os';\r\n                  })(processedContent.metadata.os)}`}>\r\n                    {processedContent.metadata.os}\r\n                  </span>\r\n                </p>\r\n                <p className=\"md-meta-line\">\r\n                  <strong className=\"md-meta-label\">Category:</strong>\r\n                  <span className={`md-meta-pill category ${((value) => {\r\n                    const normalized = (value || '').toLowerCase();\r\n                    if (normalized.includes('offensive') || normalized.includes('red')) return 'offensive';\r\n                    if (normalized.includes('defensive') || normalized.includes('blue')) return 'defensive';\r\n                    return 'neutral-team';\r\n                  })(processedContent.metadata.category)}`}>\r\n                    {processedContent.metadata.category}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n            )}\r\n            <ReactMarkdown remarkPlugins={[remarkGfm]} components={markdownComponents}>\r\n              {processedContent.markdown}\r\n            </ReactMarkdown>\r\n          </>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default WriteupDetail;"],"names":["slug","useParams","navigate","useNavigate","writeup","useMemo","_writeupsData$items","writeupsData","find","item","content","setContent","useState","status","setStatus","assetBase","segments","sourcePath","split","pop","join","processedContent","markdown","metadata","lines","difficulty","os","category","metadataEndIndex","i","Math","min","length","line","trim","test","match","max","contentLines","splice","markdownComponents","img","_ref","alt","src","rest","_objectWithoutProperties","_excluded","resolvedSrc","startsWith","cleanedBase","endsWith","slice","normalizedSrc","replace","concat","resolveImageSource","_jsx","_objectSpread","loading","a","_ref2","children","_excluded2","target","rel","p","_ref3","childArray","React","toArray","useEffect","canceled","controller","AbortController","async","requestUrl","encodeURI","response","fetch","signal","ok","Error","text","error","aborted","console","loadWriteup","abort","className","_jsxs","_Fragment","value","normalized","toLowerCase","includes","ReactMarkdown","remarkPlugins","remarkGfm","components"],"sourceRoot":""}